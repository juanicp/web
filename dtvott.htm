<html lang="es">
<head>
<script type="text/javascript" charset="utf-8" async="" src="//ssl.p.jwpcdn.com/player/v/8.24.0/jwpsrv.js"></script>
<meta name="robots" content="noindex">
<script src="//ssl.p.jwpcdn.com/player/v/8.24.0/jwplayer.js"></script>
<script>
    jwplayer.key = 'XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo';

    // Función para cargar el token desde el archivo JSON
    function cargarToken() {
        return fetch('//telegratuita.com/json/token.json') // Ruta al archivo JSON que contiene el token
            .then(response => {
                if (!response.ok) {
                    throw new Error('Error al cargar el archivo JSON');
                }
                return response.json();
            })
            .then(data => {
                console.log('Token cargado:', data.token); // Log para verificar el token
                return data.token; // Devuelve el token
            })
            .catch(error => {
                console.error('Error al cargar el token:', error);
                return null; // En caso de error, devuelve null o un valor predeterminado
            });
    }

    // Inicialización del reproductor JWPlayer
    async function iniciarReproductor() {
        const token = await cargarToken(); // Esperar a que se cargue el token desde el JSON
        if (token) {
            var playerInstance = jwplayer("player");
            playerInstance.setup({
                playlist: [{
                    title: "",
                    image: "",
                    description: "",
                    "sources": [
                        {
                            "default": false,
                            "type": "dash",
                            "file": `//anbalancer.express.com.ar/live/c1eds/TyC_HD/SA_DASH_cipix/TyC_HD.mpd?dvr_window_length=30&token=${token}`,
                            "drm": {
                                "clearkey": { "keyId": "63e6b0db66434556a23c855bd5b6e7d2", "key": "4c4f0286647963aec05c15df1ba51224"
                                }
                            },
                            "label": "0"
                        }
                    ]
                }],
                width: "100%",
                height: "100%",
                aspectratio: "16:9",
                autostart: false,
                cast: {},
                sharing: false,
				skin: {
       name: "#ff0d51",
       active: "#ff0d51",
	   }
            });
        } else {
            console.error('No se pudo obtener el token');
        }
    }

    // Llamar a la función para iniciar el reproductor
    window.onload = function() {
        iniciarReproductor();
    };

    // Código para manejar el idioma (si es necesario)
    var lang = 1; // Por defecto en español
    jwplayer().on('play', function(e) {
        jwplayer().setCurrentAudioTrack(lang);
    });
</script><script charset="utf-8" src="//ssl.p.jwpcdn.com/player/v/8.24.0/jwplayer.core.controls.js"></script><script charset="utf-8" src="//ssl.p.jwpcdn.com/player/v/8.24.0/provider.shaka.js"></script></head>

<body><div id="player"></div>


</body></html>
